import{D as I,u as _,a as q,j as O}from"./client-BeXdk_MZ.js";var T=(e,n)=>{const t=new String(e);return t.isEscaped=!0,t.callbacks=n,t},x=":-hono-global",J=new RegExp(`^${x}{(.*)}$`),U="hono-css",$=Symbol(),S=Symbol(),f=Symbol(),p=Symbol(),j=Symbol(),D=Symbol(),P=e=>{let n=0,t=11;for(;n<e.length;)t=101*t+e.charCodeAt(n++)>>>0;return"css-"+t},Y=['"(?:(?:\\\\[\\s\\S]|[^"\\\\])*)"',"'(?:(?:\\\\[\\s\\S]|[^'\\\\])*)'"].join("|"),z=new RegExp(["("+Y+")","(?:"+["^\\s+","\\/\\*.*?\\*\\/\\s*","\\/\\/.*\\n\\s*","\\s+$"].join("|")+")","\\s*;\\s*(}|$)\\s*","\\s*([{};:,])\\s*","(\\s)\\s+"].join("|"),"g"),B=e=>e.replace(z,(n,t,r,o,c)=>t||r||o||c||""),M=(e,n)=>{var s,a;const t=[],r=[],o=((s=e[0].match(/^\s*\/\*(.*?)\*\//))==null?void 0:s[1])||"";let c="";for(let u=0,h=e.length;u<h;u++){c+=e[u];let d=n[u];if(!(typeof d=="boolean"||d===null||d===void 0)){Array.isArray(d)||(d=[d]);for(let l=0,v=d.length;l<v;l++){let i=d[l];if(!(typeof i=="boolean"||i===null||i===void 0))if(typeof i=="string")/([\\"'\/])/.test(i)?c+=i.replace(new RegExp(`([\\\\"']|(?<=<)\\/)`,"g"),"\\$1"):c+=i;else if(typeof i=="number")c+=i;else if(i[D])c+=i[D];else if(i[S].startsWith("@keyframes "))t.push(i),c+=` ${i[S].substring(11)} `;else{if((a=e[u+1])!=null&&a.match(/^\s*{/))t.push(i),i=`.${i[S]}`;else{t.push(...i[p]),r.push(...i[j]),i=i[f];const m=i.length;if(m>0){const g=i[m-1];g!==";"&&g!=="}"&&(i+=";")}}c+=`${i||""}`}}}}return[o,B(c),t,r]},k=(e,n)=>{let[t,r,o,c]=M(e,n);const s=J.exec(r);s&&(r=s[1]);const a=(s?x:"")+P(t+r),u=(s?o.map(h=>h[S]):[a,...c]).join(" ");return{[$]:a,[S]:u,[f]:r,[p]:o,[j]:c}},F=e=>{for(let n=0,t=e.length;n<t;n++){const r=e[n];typeof r=="string"&&(e[n]={[$]:"",[S]:"",[f]:"",[p]:[],[j]:[r]})}return e},H=(e,...n)=>{const[t,r]=M(e,n);return{[$]:"",[S]:`@keyframes ${P(t+r)}`,[f]:r,[p]:[],[j]:[]}},V=0,X=(e,n)=>{e||(e=[`/* h-v-t ${V++} */`]);const t=Array.isArray(e)?k(e,n):e,r=t[S],o=k(["view-transition-name:",""],[r]);return t[S]=x+t[S],t[f]=t[f].replace(new RegExp("(?<=::view-transition(?:[a-z-]*)\\()(?=\\))","g"),r),o[S]=o[$]=r,o[p]=[...t[p],t],o},K=e=>{const n=[];let t=0,r=0;for(let o=0,c=e.length;o<c;o++){const s=e[o];if(s==="'"||s==='"'){const a=s;for(o++;o<c;o++){if(e[o]==="\\"){o++;continue}if(e[o]===a)break}continue}if(s==="{"){r++;continue}if(s==="}"){r--,r===0&&(n.push(e.slice(t,o+1)),t=o+1);continue}}return n},Q=({id:e})=>{let n;const t=()=>{var s;return n||(n=(s=document.querySelector(`style#${e}`))==null?void 0:s.sheet,n&&(n.addedStyles=new Set)),n?[n,n.addedStyles]:[]},r=(s,a)=>{const[u,h]=t();if(!u||!h){Promise.resolve().then(()=>{if(!t()[0])throw new Error("style sheet not found");r(s,a)});return}h.has(s)||(h.add(s),(s.startsWith(x)?K(a):[`${s[0]==="@"?"":"."}${s}{${a}}`]).forEach(d=>{u.insertRule(d,u.cssRules.length)}))};return[{toString(){const s=this[$];return r(s,this[f]),this[p].forEach(({[S]:a,[f]:u})=>{r(a,u)}),this[S]}},({children:s})=>({tag:"style",children:(Array.isArray(s)?s:[s]).map(a=>a[f]),props:{id:e}})]},Z=({id:e})=>{const[n,t]=Q({id:e}),r=new WeakMap,o=new RegExp(`(<style id="${e}">.*?)(</style>)`),c=l=>{const v=({buffer:y,context:A})=>{const[b,C]=r.get(A),R=Object.keys(b);if(!R.length)return;let w="";if(R.forEach(E=>{C[E]=!0,w+=E.startsWith(x)?b[E]:`${E[0]==="@"?"":"."}${E}{${b[E]}}`}),r.set(A,[{},C]),y&&o.test(y[0])){y[0]=y[0].replace(o,(E,W,G)=>`${W}${w}${G}`);return}const L=`<script>document.querySelector('#${e}').textContent+=${JSON.stringify(w)}<\/script>`;if(y){y[0]=`${L}${y[0]}`;return}return Promise.resolve(L)},i=({context:y})=>{r.get(y)||r.set(y,[{},{}]);const[A,b]=r.get(y);let C=!0;if(b[l[$]]||(C=!1,A[l[$]]=l[f]),l[p].forEach(({[S]:R,[f]:w})=>{b[R]||(C=!1,A[R]=w)}),!C)return Promise.resolve(T("",[v]))},m=new String(l[S]);Object.assign(m,l),m.isEscaped=!0,m.callbacks=[i];const g=Promise.resolve(m);return Object.assign(g,l),g.toString=n.toString,g},s=(l,...v)=>c(k(l,v)),a=(...l)=>(l=F(l),s(Array(l.length).fill(""),...l)),u=H,h=(l,...v)=>c(X(l,v)),d=({children:l}={})=>T(l?`<style id="${e}">${l[f]}</style>`:`<style id="${e}"></style>`);return d[I]=t,{css:s,cx:a,keyframes:u,viewTransition:h,Style:d}},N=Z({id:U}),ee=N.css;new TextEncoder;const te=ee`
  padding: 2rem;
  border: 1px solid black;
`;function re({children:e,name:n}){const[t,r]=_(0),o=_(()=>Math.random().toString(36))[0];return q(()=>(console.log("effect",n,o),()=>{console.log("cleanup",n,o)}),[n,o]),O("div",{className:te,children:[O("p",{children:t}),O("button",{onClick:()=>r(t+1),children:"Increment"}),e]})}export{re as default};
